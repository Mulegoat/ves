"use strict";function handleMessage(e){if(-1!=e.data.indexOf("t_ready::")){var t=e.data.split("t_ready::")[1];frameReadyList[t]="ready"}}function closeMobileMenu(e){if(e.className=e.className.replace(/\btriggered\b/,""),document.getElementById("menu").className=document.getElementById("menu").className.replace(/\bmobile-show\b/,""),document.getElementById("menu").className=document.getElementById("menu").className+" mobile-hide",document.getElementById("home"))for(var t=document.getElementById("home"),n=t.getElementsByClassName("item"),a=0;a<n.length;a++)n[a].className=n[a].className+" menu-closed",n[a].className=n[a].className.replace(/\bmenu-open\b/,"");if(document.getElementById("two-column")){var o=document.getElementById("two-column"),i=o.getElementsByClassName("module_list")[0];i.className=i.className+" menu-closed",i.className=i.className.replace(/\bmenu-open\b/,"")}if(document.getElementById("media")){var r=document.getElementById("media");r.className=r.className+" menu-closed",r.className=r.className.replace(/\bmenu-open\b/,"")}e.style.margin="0"}function openMobileMenu(e){if(e.className=e.className+" triggered",document.getElementById("menu").className=document.getElementById("menu").className.replace(/\bmobile-hide\b/,""),document.getElementById("menu").className=document.getElementById("menu").className+" mobile-show",document.getElementById("home"))for(var t=document.getElementById("home"),n=t.getElementsByClassName("item"),a=0;a<n.length;a++)n[a].className=n[a].className+" menu-open",n[a].className=n[a].className.replace(/\bmenu-closed\b/,"");if(document.getElementById("two-column")){var o=document.getElementById("two-column"),i=o.getElementsByClassName("module_list")[0];i.className=i.className+" menu-open",i.className=i.className.replace(/\bmenu-closed\b/,"")}if(document.getElementById("media")){var r=document.getElementById("media");r.className=r.className+" menu-open",r.className=r.className.replace(/\bmenu-closed\b/,"")}e.style.margin="0 0 0 90px"}function clickPage(e){e.srcElement&&("share"!==e.srcElement.id&&"menu-item share"!==e.srcElement.className&&(document.getElementById("share").className=""),"menu"!==e.srcElement.className&&"trigger"!==e.srcElement.className&&"box"!==e.srcElement.className&&W()<=1024&&closeMobileMenu(document.getElementById("mobile-menu")))}var traskindustries=angular.module("traskindustries",[]);traskindustries.config(["$routeProvider","$locationProvider",function(e){e.when("/home",{controller:"HomeController",templateUrl:"views/home.html"}),e.when("/innovation",{controller:"InnovationController",templateUrl:"views/two-column.html"}),e.when("/genetics",{controller:"GeneticsController",templateUrl:"views/two-column.html"}),e.when("/media",{controller:"MediaController",templateUrl:"views/media.html"}),e.when("/about",{controller:"AboutController",templateUrl:"views/two-column.html"}),e.otherwise({redirectTo:"/home"})}]);var isIE8=-1!=navigator.userAgent.indexOf("MSIE 8"),isIphone=navigator.userAgent.match(/iPhone/i),frameDoneList=[],frameReadyList=[],infoInitArray=[],setupListSpace=function(){animateIn();var e=function(e){e.className+=" active"},t=function(e){e.className=e.className.split(" active").join("")},n={contents:$$(".item",$$(".window",$$(".module_marquee"))),nav:$$(".button",$$(".pagination",$$(".module_marquee"))),animateInCallback:e,animateOutCallback:t},a=new traskMarquee(n);$$(".module_marquee").Marq=a;var o=function(e){scrollTo(".module_list",e.offsetTop,2e3),r.unBindScroll(),setTimeout(function(){r.bindScroll()},2400)},i=function(){},n={contents:$$(".item",$$(".module_list")),scrollContext:".module_list",animateInCallback:o,animateOutCallback:i},r=new traskList(n);r.addListener(a.goTo),a.addListener(r.goTo);for(var l=$$(".infographic",$$(".module_list")),s=0;s<l.length;s++){var c=l[s]||l;if(isIE8){var u=getAttr($$("iframe",$$(".item-image",c)),"rel");$$(".item-image",c).removeChild($$("iframe",$$(".item-image",c)));var d=m('<img src="uploads/img/'+u+'.jpg" class="poster" />');$$(".item-image",c).appendChild(d)}else{var $=W();getWinSize().height;var g=$>1023?c.offsetTop-getWinSize().height+$$(".module_list").offsetWidth/2:c.offsetTop-getWinSize().height;infoInitArray[s]={el:c,top:g}}}vine.bind($$(".module_list"),"scroll",scrollListen);for(var f=$$(".image",$$(".module_list")),s=0;s<f.length;s++){var v=f[s]?$$(".poster",f[s]):$$(".poster",f);v.src=getAttr(v,"ref")}for(var p=$$(".video",$$(".module_list")),s=0;s<p.length;s++){var h=$$(".list_yt",p[s]),v=$$(".poster",h);v.src=getAttr(v,"ref"),vine.bind($$(".icon-play",h),"click",function(e){var t=e.srcElement||e.currentTarget||e,n=getAttr(t.parentNode,"rel");new YTPlayerWrapper({container:$$(".container",t.parentNode).id,vidID:n}),t.style.display="none"})}for(var y=function(e,t,n,a){for(var o=0;t+1>o;o++)w(e+o+n,o*a)},w=function(e,t){window.setTimeout(function(){var t=new Image;t.src=e},t)},b=$$(".img_sequence",$$(".module_list")),s=0;s<b.length;s++){var c=b[s]||b,N=$$(".list_imagesequence",c),I=getAttr(N,"rel"),_=getAttr(N,"ref"),E={fps:10,sequenceElement:N,srcBase:I,totalFrames:_,spriteElement:$$(".icon",c),autoplay:!1,loop:!0};y(getAttr(N,"rel"),parseInt(getAttr(N,"ref")),".jpg",500);var T=new imageSequenceAnimation(E);N.data=T;var L=document.createElement("div");L.className="hitarea",N.appendChild(L),vine.bind($$(".hitarea",N),"mouseover",function(e){var t=e.srcElement||e.currentTarget||e;t.parentNode.data.start()}),vine.bind($$(".hitarea",N),"mouseout",function(e){var t=e.srcElement||e.currentTarget||e;t.parentNode.data.pause()})}for(var k=function(e){centerImage(e.currentTarget)},B=$$(".poster",$$(".window",$$(".module_marquee"))),s=0;s<B.length;s++){var c=B[s]||B;c.onload=k,c.src=getAttr(c,"ref")}for(var A=$$(".yt_video",$$(".window",$$(".module_marquee"))),s=0;s<A.length;s++){var v=$$(".marquee_yt",A[s]);v.style.backgroundImage="url('"+getAttr(v,"ref")+"')",vine.bind($$(".play",v),"click",function(e){var t=e.srcElement||e.currentTarget||e,n=getAttr(t.parentNode,"rel");new YTPlayerWrapper({container:$$(".container",t.parentNode).id,vidID:n}),t.style.display="none"})}for(var C=$$(".hosted_video",$$(".window",$$(".module_marquee"))),s=0;s<C.length;s++){var c=C[s]||C,x=$$(".content",c),I=x.getAttribute?x.getAttribute("ref"):x.attributes.ref.value,v=$$(".h_video_container",c);new HostedVideoPlayer({srcBase:I,container:v,autoplay:"true",loop:"true"})}document.getElementById("full-image")&&(document.onkeydown=function(){document.getElementById("full-image").parentNode.removeChild(document.getElementById("full-image")),document.getElementById("full-image-close").style.display="none"}),W(handleResize),handleResize(),scrollListen()},centerImage=function(e){setTimeout(function(){e.style.left="50%";var t=$$("#menu").offsetWidth/2;e.style.marginLeft="-"+(e.offsetWidth/2-t)+"px"},200)},handleResize=function(){for(var e=$$(".poster",$$(".window",$$(".module_marquee"))),t=0;t<e.length;t++){var n=e[t]||e;n.style.left="50%";var a=$$("#menu").offsetWidth/2;n.style.marginLeft="-"+(n.offsetWidth/2-a)+"px"}if(1==$$(".module_list").length){var o=$$(".module_list").offsetWidth;if(!isIE8){var i=$$(".infographic",$$(".module_list")),r=isIphone?605:655;console.log("iWidth",r);for(var l=o/r,t=0;t<i.length;t++){var n=i[t]?$$("iframe",i[t]):$$("iframe",i),s=parseInt(getAttr(n,"ref")),m=l*s;n.style["-webkit-transform"]="scale("+l+")",n.style["-ms-transform"]="scale("+l+")",n.style["-moz-transform"]="scale("+l+")",n.style.transform="scale("+l+")",n.parentNode.style.height=m+"px",n.style.width=$$(".module_list").offsetWidth/l+"px"}}var c=$$(".img_sequence",$$(".module_list")),u=700;if(W()<=641)var d=385;else if(W()<=1023)var d=365;else var d=433;for(var $=c[0]||c,g=u/$.offsetWidth,t=0;t<c.length;t++){var n=c[t]||c;$$(".list_imagesequence",n).style.height=d/g+"px"}}},scrollListen=function(){for(var e=getScrollTop(".module_list"),t=0;t<infoInitArray.length;t++){var n=$$(".graphic",infoInitArray[t].el);e>infoInitArray[t].top&&(frameDoneList[n.id]||(frameDoneList[n.id]="true",frameReadyList[n.id]&&n.contentWindow?n.contentWindow.postMessage("init","*"):delayInitIframe(n.id,n)))}},delayInitIframe=function(e,t){setTimeout(function(){frameReadyList[e]&&t&&t.contentWindow?t.contentWindow.postMessage("init","*"):delayInitIframe(e,t)},300)},getAttr=function(e,t){var n=e.getAttribute&&e.getAttribute(t)||null;if(!n)for(var a=e.attributes,o=a.length,i=0;o>i;i++)a[i].nodeName===t&&(n=a[i].nodeValue);return n};window.addEventListener&&window.addEventListener("message",handleMessage,!1),-1==navigator.appVersion.indexOf("MSIE 9")&&window.attachEvent&&window.attachEvent("onmessage",handleMessage,!1);var animateIn=function(){-1==$$("#menu").className.indexOf("inplace")&&(TweenLite.to($$("#menu"),.9,{left:0,ease:"Power4.easeOut",delay:.1}),TweenLite.to($$(".home",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.2}),TweenLite.to($$(".innovation",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.3}),TweenLite.to($$(".genetics",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.4}),TweenLite.to($$(".media",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.5}),TweenLite.to($$(".about",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.6}),TweenLite.to($$(".share",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.7}),TweenLite.to($$(".module_list"),1.1,{right:0,ease:Quint.easeOut,delay:.7}),TweenLite.to($$(".module_marquee"),.8,{opacity:1,ease:Quint.easeOut,delay:1.5}))};vine.bind($$("#site-container"),"click",clickPage);var ce=function(e,t,n,a){var o=document.createElement(e);o.innerHTML=t;for(var i in n)o[i]=n[i];for(var i in a)o.style[i]=a[i];return o};traskindustries.controller("AboutController",function(e,t){var n=2;t.get("data/about.json?v="+n).success(function(t){e.list=t,e.orderFoo="order",e.section="about",window.setTimeout(setupListSpace,200)}),e.status="ready"}),traskindustries.controller("GeneticsController",function(e,t){var n=2;t.get("data/genetics.json?v="+n).success(function(t){e.list=t,e.orderFoo="order",window.setTimeout(setupListSpace,200)}),e.status="ready"}),traskindustries.controller("HomeController",function(e,t){$$("#legal").className+=" hide";var n=2;t.get("data/home.json?v="+n).success(function(t){e.list=t,e.orderFoo="order",onDomReady(function(){window.setTimeout(a,300)})});var a=function(){var e=function(e){$$("video",e).currentTime&&($$("video",e).currentTime=0),window.setTimeout(function(){for(var t=$$("video",$$(".window",$$(".module_marquee"))),n=0;n<t.length;n++){var a=t[n]||t;a.pause&&a.pause(),a.currentTime&&(a.currentTime=0)}$$("video",e)&&$$("video",e).play&&$$("video",e).play()},700),e.className+=" active"},t=function(e){e.className=e.className.split(" active").join("")},n={contents:$$(".item",$$(".window",$$(".module_marquee"))),nav:$$(".button",$$(".pagination",$$(".module_marquee"))),autoAdvance:"true",autoAdvanceTime:6e3,animateInCallback:e,animateOutCallback:t},a=new traskMarquee(n);$$(".module_marquee").Marq=a;for(var o=function(e){i(e.currentTarget)},i=function(e){if(e&&e.offsetWidth>0){e.style.left="50%";var t=$$("#menu").offsetWidth/2;e.style.marginLeft="-"+(e.offsetWidth/2-t)+"px"}else setTimeout(function(e){i(e)},400)},r=$$(".poster",$$(".window",$$(".module_marquee"))),l=0;l<r.length;l++)r[l].onload=o,r[l].src=getAttr(r[l],"ref");hasClass($$("mobile-menu"),"triggered")&&($$(".item",$$("#home"))[0].style.margin="0 0 0 120px");var s=".yt_container",m=function(){for(var e=$$(".poster",$$(".window",$$(".module_marquee"))),t=0;t<e.length;t++)i(e[t]);for(var n=$$("#menu").offsetWidth,a=getWinSize().width,o=$$(s),t=0;t<o.length;t++){var r=o[t]||o;r.style.marginLeft=n+"px",r.style.width=a-n+"px"}for(var l=$$("video",$$(".window",$$(".module_marquee"))),m=1280,c=720,u=m/c,d=getWinSize(),$=d.width/d.height,t=0;t<l.length;t++){var r=l[t]||l;if($>u){var a=d.width;r.style.height=a/u+"px",r.style.width=a+"px"}else r.style.height="100%",r.style.width="auto"}};m(),setTimeout(m,300),W(m);for(var c=$$(".video",$$(".module_marquee")),l=0;l<c.length;l++){var u=$$(".marquee_yt",c[l])||$$(".marquee_yt",c);vine.bind($$(".icon-play",u),"click",function(e){var t=e.srcElement||e.currentTarget||e,n=t.parentNode.getAttribute?t.parentNode.getAttribute("rel"):t.parentNode.attributes.rel.value;new YTPlayerWrapper({container:$$(".yt_container",t.parentNode).id,vidID:n,attachToDOM:"true",playingCallBack:a.pause}),t.style.display="none",$$(".poster",t.parentNode).style.display="none",$$(".title",t.parentNode.parentNode.parentNode.parentNode).style.display="none",$$(".body",t.parentNode.parentNode.parentNode.parentNode).style.display="none"})}for(var d=$$(".hosted_video",$$(".window",$$(".module_marquee"))),l=0;l<d.length;l++){var $=d[l]||d,g=$$(".content",$),f=g.getAttribute?g.getAttribute("ref"):g.attributes.ref.value,u=$$(".h_video_container",$);W()<1023?(u.style.backgroundImage="url("+f+"_m.jpg)",u.style.backgroundRepeat="no-repeat",u.style["-webkit-background-size"]="cover",u.style["-moz-background-size"]="cover",u.style["-o-background-size"]="cover",u.style["background-size"]="cover",u.style["-ms-filter"]="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+f+"_m.jpg', sizingMethod='scale');",u.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+f+"_m.jpg', sizingMethod='scale')"):0==l?new HostedVideoPlayer({srcBase:f,container:u,autoplay:"true",loop:"true"}):new HostedVideoPlayer({srcBase:f,container:u,autoplay:"false",loop:"true"})}for(var v=function(e){a.pause();var t=document.getElementById("mobile-menu"),n=e.srcElement||e.currentTarget||e,o=n.getAttribute?n.getAttribute("rel"):n.attributes.rel.value;dataLayer.push({pageName:"/FOH/"+o,event:"pageView"}),hasClass(t,"triggered")&&(document.getElementById("menu").className=document.getElementById("menu").className.replace(/\bmobile-show\b/,""),document.getElementById("menu").className=document.getElementById("menu").className+" mobile-hide",t.style.margin="0",t.className=t.className.replace(/\btriggered\b/,"")),document.width>1024?h(function(){angular.element($$("#menu")).scope().switchSection(o)}):angular.element($$("#menu")).scope().switchSection(o)},p=$$(".findouthow"),l=0;l<p.length;l++){var $=p[l]||p;vine.bind($,"click",v)}var h=function(e){a.pause(),TweenLite.to($$(".module_marquee"),1,{opacity:0,ease:Quint.easeInOut,onComplete:e});var t=-(.35*getWinSize().width);1==$$(".module_list").length&&TweenLite.to($$(".module_list"),1,{right:t,ease:Quint.easeInOut,delay:.2,onComplete:e})},y=function(){TweenLite.to($$(".module_marquee"),.8,{opacity:1,ease:Quint.easeOut,delay:.2}),TweenLite.to($$("#menu"),.9,{left:0,ease:"Power4.easeOut",delay:.7}),TweenLite.to($$(".home",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.8}),TweenLite.to($$(".innovation",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:.9}),TweenLite.to($$(".genetics",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:1}),TweenLite.to($$(".media",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:1.1}),TweenLite.to($$(".about",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:1.2}),TweenLite.to($$(".share",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:1.5}),TweenLite.to($$(".legal",$$("#menu")),.5,{left:0,ease:"Power4.easeOut",delay:1.6})};y()};$$("#legal").className=$$("#legal").className.split("hide").join(""),e.status="ready"}),traskindustries.controller("InnovationController",function(e,t){var n=3;t.get("data/innovation.json?v="+n).success(function(t){e.list=t,e.orderFoo="order",window.setTimeout(setupListSpace,200)}),e.status="ready"}),traskindustries.controller("MediaController",function(e,t,n){function a(e){setTimeout(function(){$$("#item_"+e).style.visibility="visible",fade("in",$$("#item_"+e),I)},_*e)}function o(){for(var e=0;e<$$(".item").length;e++)a(e)}function i(){var e=$$("#masonry");p=new Masonry(e,{columnWidth:".small",itemSelector:".item"}),imagesLoaded(e,function(){p.layout(),setTimeout(function(){o(),p.layout(),p.unbindResize(),r(),$$("#legal").className=$$("#legal").className.split("hide").join("")},500)})}function r(){-1!=n.$$url.indexOf("autoplay")&&E.openLightbox({currentTarget:$$(".video")})}function l(){this.parentNode.className+=" hover"}function s(){this.parentNode.className=this.parentNode.className.replace(/\b hover\b/,"")}function m(e){if(!$$(e).length,$$(e).length>1)for(var t=0;t<$$(e).length;t++)vine.bind($$(e)[t],"mouseover",l),vine.bind($$(e)[t],"mouseout",s);else vine.bind($$(e),"mouseover",l),vine.bind($$(e),"mouseout",s)}function c(){var e=b=(new Date).getTime();h=W(),h>1023&&(h-=170),y=d(),w=N>1?2*y:y,setTimeout(function(){g(e)},450)}function u(){return 700>=h?1:1024>=h?2:1280>=h?3:4}function d(){return N=u(),Math.ceil(h/N)}function $(e,t){if($$(e).length<1)return!1;if($$(e).length>1)for(var n=0;n<$$(e).length;n++)$$(e)[n].style.width=t;else $$(e).style.width=t}function g(e){b>e||($(".small",y+"px"),$(".large",w+"px"),p&&p.layout())}function f(){c(),i(),traskLightbox(".image"),E.init(".video"),m(".hitarea"),c(),W(c)}var v=2;t.get("data/media.json?v="+v).success(function(t){e.list=t,e.orderFoo="order",onDomReady(function(){window.setTimeout(f,200),animateIn()})});var p,h,y,w,b,N,I=400,_=300,E={_inst:this,_vidID:null,_video:null,openLightbox:function(e){var t=e.srcElement||e.currentTarget||e;if(E._vidID=t.parentNode?$$(".video-block",t.parentNode).getAttribute("rel"):t,console.log($$(".video-block",t.parentNode)),t.parentNode)var n=$$("h2",t.parentNode).innerHTML||"video clicked";dataLayer.push({videoAction:"Play",videoName:n,event:"video"});var a=ce("div","",{id:"lightbox"},{}),o=ce("div","",{id:"yt_lb_wrap"},{}),i=ce("div","",{id:"yt_lb_media"},{}),r=ce("div","",{className:"icon-close closelb"},{});$$(".window").appendChild(a),$$("#lightbox").appendChild(o),$$("#yt_lb_wrap").appendChild(i),$$("#lightbox").appendChild(r),$$(".window").appendChild(a),fade("in",$$("#lightbox"),450),setTimeout(function(){E.loadVideo()},450),vine.bind($$(".closelb"),"click",E.closeLightbox)},loadVideo:function(){E._video=new YTPlayerWrapper({container:"yt_lb_media",vidID:E._vidID})},closeLightbox:function(){E._video.pause();var e=$$("#lightbox");vine.unbind($$(".closelb")),fade("out",e,450),e&&setTimeout(function(){E._video.destroy(),e.parentNode.removeChild(e)},450)},init:function(e){if(!$$(e).length,$$(e).length>1)for(var t=0;t<$$(e).length;t++)vine.bind($$(e)[t],"click",E.openLightbox);else vine.bind($$(e),"click",E.openLightbox)}}});var menuInited=!1;traskindustries.controller("MenuController",function(e,t,n){function a(){window.___gcfg={parsetags:"onload"},function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://apis.google.com/js/plusone.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),function(e,t,n){var a,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.async=!0,a.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=271140516272162",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"271140516272162",status:!0,cookie:!0,xfbml:!0}),FB.Event.subscribe("edge.create",function(e){dataLayer.push({socialNetwork:"Facebook",socialActivity:"Like",socialTarget:e,event:"socialEvent"})}),FB.Event.subscribe("edge.remove",function(e){dataLayer.push({socialNetwork:"Facebook",socialActivity:"Unlike",socialTarget:e,event:"socialEvent"})}),FB.Event.subscribe("message.send",function(e){dataLayer.push({socialNetwork:"Facebook",socialActivity:"Share",socialTarget:e,event:"socialEvent"})})},!function(e,t,n){var a,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.async=!0,a.src="//platform.twitter.com/widgets.js",o.parentNode.insertBefore(a,o))}(document,"script","twitter-wjs"),twttr.ready(function(e){e.events.bind("tweet",function(){dataLayer.push({socialNetwork:Twitter,socialActivity:"Tweet",event:"socialEvent"})})})}function o(){return"object"!=typeof gapi?(setTimeout(o,500),void 0):void 0}var i=3;t.get("data/menu.json?v="+i).success(function(t){e.list=t,e.location=n,e.orderFoo="order",onDomReady(function(){menuInited||(menuInited=!0,s())})});var r,l,s=function(){var t=$$(".menu-item",$$("#menu"));if(t.length<1)return window.setTimeout(s,400),!1;l=n.$$path.split("/").join("")||"home";for(var a=0;a<t.length;a++){var o=t[a]||t,i=o.getAttribute?o.getAttribute("rel"):o.attributes.rel.value;if("home"==i&&-1==n.$$path.indexOf("home")&&vine.bind($$(".hitarea",o),"click",e.switchSection),0==$$(".icon",o).length&&1==a)return window.setTimeout(s,400),!1;if($$(".icon",o).length){var r={fps:30,cols:15,rows:1,cell_width:70,cell_height:70,src:"img/sprite_"+i+".png",spriteElement:$$(".icon",o),autoplay:!1,loadCallBack:function(){},animationCompleteCallback:function(){}},u=new spriteAnimation(r);-1==n.$$path.indexOf(i)?(vine.bind($$(".hitarea",o),"click",e.switchSection),vine.bind($$(".hitarea",o),"mouseover",m),vine.bind($$(".hitarea",o),"mouseout",c)):u.goToFrame(u.options.cols)}}vine.unbind($$(".home-btn"),"click",e.switchSection),vine.bind($$(".home-btn"),"click",e.switchSection);for(var d=$$(".social_ob"),a=0;a<d.length;a++){var o=d[a]||d;vine.bind(o,"click",function(e){var t=e.srcElement||e.currentTarget||e;dataLayer.push({eventLabel:t.href,event:"exitSite"})})}},m=function(e){var t=e.srcElement||e.currentTarget,n=$$(".icon",t.parentNode);n.spriteAnimation&&n.spriteAnimation.reverse("false","true")},c=function(e){var t=e.srcElement||e.currentTarget,n=$$(".icon",t.parentNode);n.spriteAnimation&&n.spriteAnimation.reverse("true","true")};e.switchSection=function(t){-1!=window.location.hash.indexOf("autoplay")&&(window.location.hash=window.location.hash.split("autoplay").join("")),frameDoneList=[],frameReadyList=[],infoInitArray=[],$$(".module_marquee").length>0&&$$(".module_marquee").Marq&&$$(".module_marquee").Marq.pause();var n=t.srcElement||t.currentTarget||t;if(r=n==t?t:n.parentNode.getAttribute?n.parentNode.getAttribute("rel"):n.parentNode.attributes.rel.value,r==l||"home"==l&&""==r)return!1;if($$("."+l).length>0&&($$("."+r).className=$$("."+r).className+" active",$$("."+l).className=$$("."+l).className.replace(/\bactive\b/,"")),$$("."+l,$$("#menu")).length>0&&$$(".hitarea",$$("."+l,$$("#menu"))).length>0){var a=$$(".hitarea",$$("."+l,$$("#menu")));vine.bind(a,"click",e.switchSection),vine.bind(a,"mouseover",m),vine.bind(a,"mouseout",c)}"home"!=l&&$$("."+l,$$("#menu")).length>0&&$$(".icon",$$("."+l,$$("#menu"))).length>0&&$$(".icon",$$("."+l,$$("#menu"))).spriteAnimation.reverse("true","true"),n!=t&&"home"!=r&&(vine.unbind(n,"mouseout",c),vine.unbind(n,"mouseover",m)),dataLayer.push({pageName:r,event:"pageView"});var o=document.getElementById("mobile-menu");n.parentNode&&n.parentNode.attributes.rel?(hasClass(o,"triggered")&&(document.getElementById("menu").className=document.getElementById("menu").className.replace(/\bmobile-show\b/,""),document.getElementById("menu").className=document.getElementById("menu").className+" mobile-hide",o.style.margin="0",o.className=o.className.replace(/\btriggered\b/,"")),document.width>1024?d(u):u()):u()};var u=function(){n.path("/"+r),e.$apply(),l=r,$$("."+l,$$("#menu")).length>0&&$$(".icon",$$("."+l,$$("#menu"))).spriteAnimation&&$$(".icon",$$("."+l,$$("#menu"))).spriteAnimation.reverse("false","true")},d=function(e){TweenLite.to($$(".module_marquee"),1,{opacity:0,ease:Quint.easeInOut,onComplete:e});var t=-(.35*getWinSize().width);$$(".module_list")&&1==$$(".module_list").length&&TweenLite.to($$(".module_list"),1,{right:t,ease:Quint.easeInOut,delay:.2,onComplete:e}),$$("#masonry")&&($$("#legal").className+=" hide",fade("out",$$("#masonry"),450))};e.share=function(e){e.stopPropagation();var t=document.getElementById("share");hasClass(t,"triggered")?t.className="":(t.className="triggered",dataLayer.push({eventCategory:"Site",eventAction:"View",eventLabel:"Share Container"}))},e.toggle=function(){console.log("toggle");var e=document.getElementById("mobile-menu");hasClass(e,"triggered")?closeMobileMenu(document.getElementById("mobile-menu")):openMobileMenu(document.getElementById("mobile-menu"))},e.status="ready",a(),setTimeout(o,1e3)});